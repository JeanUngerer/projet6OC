{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/services/auth.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../shared/components/error-message/error-message.component\";\nconst _c0 = function (a0) {\n  return {\n    \"input-error\": a0\n  };\n};\nexport class LoginComponent {\n  constructor(router, authService) {\n    this.router = router;\n    this.authService = authService;\n    this.emailControl = new FormControl('', [Validators.required, Validators.email]);\n    this.passwordControl = new FormControl('', Validators.required);\n    this.submitted = false;\n    this.loginForm = new FormGroup({\n      email: this.emailControl,\n      password: this.passwordControl\n    });\n    this.hasAuthError = false;\n  }\n  ngOnInit() {}\n  /**\r\n   * Method triggered on form submit. Check the info and return according to api value.\r\n   */\n  login() {\n    this.submitted = true;\n    if (this.isValid()) {\n      this.authService.login({\n        email: this.email ? this.email : '',\n        password: this.password ? this.password : ''\n      }).subscribe(r => this.handleAuthSuccess(), err => this.handleAuthError(err));\n    }\n  }\n  /**\r\n   * If login and password match, access to the site\r\n   */\n  handleAuthSuccess() {\n    this.hasAuthError = false;\n    this.router.navigate(['/geo/home']);\n  }\n  /**\r\n   * else display error to the user\r\n   * @param err\r\n   */\n  handleAuthError(err) {\n    this.hasAuthError = true;\n  }\n  hasError(field) {\n    const has = this.submitted && !this.loginForm.get(field)?.valid ? true : false;\n    return has;\n  }\n  isValid() {\n    return !this.hasError('email') && !this.hasError('password');\n  }\n  handleChange() {\n    this.hasAuthError = false;\n  }\n  get email() {\n    return this.loginForm.get('email')?.value;\n  }\n  get password() {\n    return this.loginForm.get('password')?.value;\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 18,\n  vars: 10,\n  consts: [[1, \"root\"], [1, \"loginModal\"], [1, \"header\"], [1, \"icon-wrapper\"], [\"src\", \"assets/images/pay-my-buddy-logo.png\", \"alt\", \"logo pay-app\"], [1, \"button-validate\", \"button-home\"], [1, \"content\"], [\"message\", \"Could not authenticate user\", 3, \"visible\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"Enter email\", \"id\", \"email\", \"formControlName\", \"email\", 1, \"input\", 3, \"ngClass\", \"change\"], [\"message\", \"Please provide a valid email\", 3, \"visible\"], [\"type\", \"password\", \"id\", \"password\", \"placeholder\", \"Enter password\", \"formControlName\", \"password\", 1, \"input\", 3, \"ngClass\", \"change\"], [\"message\", \"Please provide a valid password\", 3, \"visible\"], [\"type\", \"submit\", 1, \"login-button\", \"button\", \"button-primary\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelement(4, \"img\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 5);\n      i0.ɵɵtext(6, \" Pay my Buddy \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵelement(8, \"app-error-message\", 7);\n      i0.ɵɵelementStart(9, \"form\", 8);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_9_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(10, \"div\", 9)(11, \"input\", 10);\n      i0.ɵɵlistener(\"change\", function LoginComponent_Template_input_change_11_listener() {\n        return ctx.handleChange();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"app-error-message\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"div\", 9)(14, \"input\", 12);\n      i0.ɵɵlistener(\"change\", function LoginComponent_Template_input_change_14_listener() {\n        return ctx.handleChange();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(15, \"app-error-message\", 13);\n      i0.ɵɵelementStart(16, \"button\", 14);\n      i0.ɵɵtext(17, \" Log in \");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"visible\", ctx.hasAuthError);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx.hasError(\"email\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"visible\", ctx.hasError(\"email\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(8, _c0, ctx.hasError(\"password\")));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"visible\", ctx.hasError(\"password\"));\n    }\n  },\n  dependencies: [i3.NgClass, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i5.ErrorMessageComponent],\n  styles: [\".button-primary[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n  border-color: transparent;\\n  padding: 25px;\\n  margin: 25px;\\n  background-color: dodgerblue;\\n  color: #f2f2f2;\\n}\\n\\n.button-validate[_ngcontent-%COMP%] {\\n  border-color: transparent;\\n  border-radius: 10px;\\n  padding: 25px;\\n  margin: 25px;\\n  background-color: yellowgreen;\\n  color: #f2f2f2;\\n}\\n\\n.label[_ngcontent-%COMP%] {\\n  margin-bottom: 1rem;\\n  margin-top: 2rem;\\n  font-weight: bold;\\n  color: dodgerblue;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-top: 0.5rem 1rem 1rem 0;\\n  display: flex;\\n  flex-direction: column;\\n  flex: 1;\\n  min-width: 30%;\\n  max-width: 30%;\\n}\\n.form-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 1em;\\n}\\n\\n.root[_ngcontent-%COMP%] {\\n  background-color: lightgray;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  right: 0;\\n  left: 0;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.loginModal[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  background-color: whitesmoke;\\n  border-radius: 4px;\\n  border-color: black;\\n  border-width: 3px;\\n  box-shadow: grey;\\n  width: 20vw;\\n  min-width: 20em;\\n  flex-direction: column;\\n  display: flex;\\n}\\n\\n.icon-wrapper[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  z-index: 1000;\\n  height: 4em;\\n}\\n\\n.content[_ngcontent-%COMP%] {\\n  align-content: center;\\n  padding: 4rem;\\n  width: 30rem;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  align-content: center;\\n  margin-bottom: 2rem;\\n}\\n\\n.button-home[_ngcontent-%COMP%] {\\n  align-content: center;\\n  justify-content: center;\\n  margin: auto;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9zdHlsZXMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDhFQUFBO0FBQ0E7RUFDRSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSw0QkFBQTtFQUNBLGNBQUE7QUNDRjs7QURFQTtFQUNFLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLDZCQUFBO0VBQ0EsY0FBQTtBQ0NGOztBREVBO0VBQ0UsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7QUNDRjs7QURFQTtFQUNFLDhCQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsT0FBQTtFQUNBLGNBQUE7RUFDQSxjQUFBO0FDQ0Y7QURBRTtFQUNFLFNBQUE7RUFDQSxjQUFBO0FDRUo7O0FBbkNBO0VBQ0UsMkJBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxTQUFBO0VBQ0EsUUFBQTtFQUNBLE9BQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQXNDRjs7QUFuQ0E7RUFDRSxzQkFBQTtFQUNBLDRCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtFQUNBLHNCQUFBO0VBQ0EsYUFBQTtBQXNDRjs7QUFuQ0E7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxhQUFBO0VBQ0EsV0FBQTtBQXNDRjs7QUFuQ0E7RUFDRSxxQkFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FBc0NGOztBQW5DQTtFQUNFLHFCQUFBO0VBQ0EsbUJBQUE7QUFzQ0Y7O0FBbkNBO0VBQ0UscUJBQUE7RUFDQSx1QkFBQTtFQUNBLFlBQUE7QUFzQ0YiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBZb3UgY2FuIGFkZCBnbG9iYWwgc3R5bGVzIHRvIHRoaXMgZmlsZSwgYW5kIGFsc28gaW1wb3J0IG90aGVyIHN0eWxlIGZpbGVzICovXHJcbi5idXR0b24tcHJpbWFyeSAge1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgYm9yZGVyLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBwYWRkaW5nOiAyNXB4O1xyXG4gIG1hcmdpbjogMjVweDtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiBkb2RnZXJibHVlO1xyXG4gIGNvbG9yOiAjZjJmMmYyO1xyXG59XHJcblxyXG4uYnV0dG9uLXZhbGlkYXRlIHtcclxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgcGFkZGluZzogMjVweDtcclxuICBtYXJnaW46IDI1cHg7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93Z3JlZW47XHJcbiAgY29sb3I6ICNmMmYyZjI7XHJcbn1cclxuXHJcbi5sYWJlbCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcclxuICBtYXJnaW4tdG9wOiAycmVtO1xyXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gIGNvbG9yOiBkb2RnZXJibHVlO1xyXG59XHJcblxyXG4uZm9ybS1ncm91cCB7XHJcbiAgbWFyZ2luLXRvcDogMC41cmVtIDFyZW0gMXJlbSAwO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBmbGV4OiAxO1xyXG4gIG1pbi13aWR0aDogMzAlO1xyXG4gIG1heC13aWR0aDogMzAlO1xyXG4gIHAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgZm9udC1zaXplOiAxZW07XHJcbiAgfVxyXG59XHJcbiIsIkBpbXBvcnQgXCIuLi8uLi8uLi9zdHlsZXMuc2Nzc1wiO1xyXG5cclxuLnJvb3Qge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAwO1xyXG4gIGJvdHRvbTogMDtcclxuICByaWdodDogMDtcclxuICBsZWZ0OiAwO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmxvZ2luTW9kYWwge1xyXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGVzbW9rZTtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgYm9yZGVyLWNvbG9yOiBibGFjaztcclxuICBib3JkZXItd2lkdGg6IDNweDtcclxuICBib3gtc2hhZG93OiBncmV5O1xyXG4gIHdpZHRoOiAyMHZ3O1xyXG4gIG1pbi13aWR0aDogMjBlbTtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcbi5pY29uLXdyYXBwZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgei1pbmRleDogMTAwMDtcclxuICBoZWlnaHQ6IDRlbTtcclxufVxyXG5cclxuLmNvbnRlbnR7XHJcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xyXG4gIHBhZGRpbmc6IDRyZW07XHJcbiAgd2lkdGg6IDMwcmVtO1xyXG59XHJcblxyXG4uZm9ybS1ncm91cHtcclxuICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XHJcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcclxufVxyXG5cclxuLmJ1dHRvbi1ob21le1xyXG4gIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBtYXJnaW46IGF1dG87XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","LoginComponent","constructor","router","authService","required","email","emailControl","password","passwordControl","ngOnInit","login","submitted","isValid","subscribe","r","handleAuthSuccess","err","handleAuthError","hasAuthError","navigate","hasError","field","has","loginForm","get","valid","handleChange","value","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["C:\\dev_school_projects\\projet6\\projet6OC\\pay-my-buddy-front\\src\\app\\component\\login\\login.component.ts","C:\\dev_school_projects\\projet6\\projet6OC\\pay-my-buddy-front\\src\\app\\component\\login\\login.component.html"],"sourcesContent":["import { HttpResponse } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/core/services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  emailControl = new FormControl('', [Validators.required, Validators.email]);\r\n  passwordControl = new FormControl('', Validators.required);\r\n  submitted: boolean = false;\r\n  loginForm = new FormGroup({\r\n    email: this.emailControl,\r\n    password: this.passwordControl,\r\n  });\r\n  hasAuthError: boolean = false;\r\n  constructor(\r\n    private router: Router,\r\n    private authService: AuthService,\r\n  ) {}\r\n  ngOnInit(): void {\r\n\r\n  }\r\n\r\n  /**\r\n   * Method triggered on form submit. Check the info and return according to api value.\r\n   */\r\n  login() {\r\n    this.submitted = true;\r\n    if (this.isValid()) {\r\n      this.authService.login({\r\n        email: this.email ? this.email : '',\r\n        password: this.password ? this.password : '',\r\n      }).subscribe(\r\n        (r) => this.handleAuthSuccess(),\r\n        (err) => this.handleAuthError(err)\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If login and password match, access to the site\r\n   */\r\n  handleAuthSuccess() {\r\n    this.hasAuthError = false;\r\n    this.router.navigate(['/geo/home']);\r\n  }\r\n\r\n  /**\r\n   * else display error to the user\r\n   * @param err\r\n   */\r\n  handleAuthError(err: any) {\r\n    this.hasAuthError = true;\r\n  }\r\n\r\n  hasError(field: string) {\r\n    const has =\r\n      this.submitted && !this.loginForm.get(field)?.valid ? true : false;\r\n    return has;\r\n  }\r\n\r\n  isValid() {\r\n    return !this.hasError('email') && !this.hasError('password');\r\n  }\r\n\r\n  handleChange() {\r\n    this.hasAuthError = false;\r\n  }\r\n\r\n  get email() {\r\n    return this.loginForm.get('email')?.value;\r\n  }\r\n  get password() {\r\n    return this.loginForm.get('password')?.value;\r\n  }\r\n}\r\n","<div class=\"root\">\r\n  <div class=\"loginModal\">\r\n    <div class=\"header\">\r\n\r\n    </div>\r\n\r\n    <div class=\"icon-wrapper\">\r\n      <img\r\n        src=\"assets/images/pay-my-buddy-logo.png\"\r\n        alt=\"logo pay-app\"\r\n      />\r\n    </div>\r\n\r\n    <button class=\"button-validate button-home\">\r\n      Pay my Buddy\r\n    </button>\r\n\r\n    <div class=\"content\">\r\n      <app-error-message\r\n        message=\"Could not authenticate user\"\r\n        [visible]=\"hasAuthError\"\r\n      >\r\n      </app-error-message>\r\n      <form [formGroup]=\"loginForm\" (ngSubmit)=\"login()\">\r\n        <div class=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter email\"\r\n            id=\"email\"\r\n            [ngClass]=\"{\r\n              'input-error': hasError('email')\r\n            }\"\r\n            class=\"input\"\r\n            formControlName=\"email\"\r\n            (change)=\"handleChange()\"\r\n          />\r\n          <app-error-message\r\n            [visible]=\"hasError('email')\"\r\n            message=\"Please provide a valid email\"\r\n          >\r\n          </app-error-message>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Enter password\"\r\n            class=\"input\"\r\n            [ngClass]=\"{\r\n              'input-error': hasError('password')\r\n            }\"\r\n            formControlName=\"password\"\r\n            (change)=\"handleChange()\"\r\n          />\r\n          <app-error-message\r\n            [visible]=\"hasError('password')\"\r\n            message=\"Please provide a valid password\"\r\n          >\r\n          </app-error-message>\r\n\r\n          <button class=\"login-button button button-primary\" type=\"submit\">\r\n            Log in\r\n          </button>\r\n        </div>\r\n\r\n\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}